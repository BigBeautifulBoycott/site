/* src/styles/header.css */

/* Header shell */
.site-header {
  color: hsl(var(--bc));
  background-color: hsl(var(--b1));
  border-bottom: 1px solid hsl(var(--b2));
  font-size: 1.05rem;
  backdrop-filter: saturate(1.05) blur(2px);
  box-shadow: 0 1px 0 rgba(0,0,0,.06);
}

/* Comfy bar */
.site-header .navbar {
  height: 4.5rem;
  align-items: center;
}

/* Bigger logo, no stretch */
.site-header .navbar img {
  height: 2.75rem;
  width: auto;
  object-fit: contain;
}

/* Desktop nav links */
.site-header .menu a,
.site-header .menu summary {
  padding: 0.55rem 0.85rem;
  font-weight: 500;
  text-underline-offset: 3px;
  transition: color .15s ease;
}

/* Hover: primary text */
.site-header .menu a:hover,
.site-header .menu summary:hover {
  color: hsl(var(--p));
  text-decoration: underline;
}

/* Open dropdown -> highlight trigger */
.site-header details[open] > summary {
  color: hsl(var(--p));
}

/* Base dropdown surface (fallback) */
.site-header details > ul,
.site-header .dropdown-content {
  margin-top: .5rem;
  background: hsl(var(--b1));
  border: 1px solid hsl(var(--b2));
  border-radius: .5rem;
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
  min-width: 12rem;
}

/* Make sticky header readable over imagery */
.site-header {
  background-color: color-mix(in oklab, hsl(var(--b1)) 92%, transparent);
  backdrop-filter: saturate(1.05) blur(6px);
}

/* Ensure menus float above content */
.site-header details > ul,
.site-header .dropdown-content {
  z-index: 60;
}

/* Comfortable tap targets */
.site-header .menu a,
.site-header .menu summary {
  padding: .6rem .85rem;
}

/* Slight height tweak */
.site-header .navbar { height: 4.25rem; }

/* Ghost buttons: outline only; keep your existing hover color */
.site-header .btn-ghost {
  border: 1.5px solid hsl(var(--p)) !important;
  box-shadow: none !important;
}

/* --- Dropdowns ------------------------------------------------------ */

/* Desktop dropdown: solid panel, positioned below its summary, above page */
.site-header .nav-dropdown {
  position: absolute !important;
  left: 0 !important;
  top: calc(100% + .5rem) !important;
  width: 16rem !important;
  max-height: 70vh !important;
  overflow: auto !important;
  background: hsl(var(--b1)) !important;
  border: 1px solid hsl(var(--b2)) !important;
  border-radius: .5rem !important;
  box-shadow: 0 12px 30px rgba(0,0,0,.14) !important;
  z-index: 100 !important;
}

/* Make sure <li> is positioning context */
.site-header .menu > li { position: relative; }

/* Right-align the panel to the trigger on large screens */
@media (min-width: 1024px) {
  .site-header .nav-dropdown {
    right: 0 !important;
    left: auto !important;
  }
}

/* Mobile dropdown surface (card) */
.site-header .mobile-dropdown {
  position: absolute !important;
  right: .75rem !important;
  left: .75rem !important;
  width: auto !important;
  margin-top: .5rem !important;
  padding: .5rem !important;
  max-height: 75vh !important;
  overflow: auto !important;
  background: hsl(var(--b1)) !important;
  border: 1px solid hsl(var(--b2)) !important;
  border-radius: .75rem !important;
  box-shadow: 0 18px 48px rgba(0,0,0,.22) !important;
  z-index: 90 !important;
}

/* Full-screen scrim for mobile menu */
.site-header .mobile-scrim {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.28);
  backdrop-filter: blur(2px);
  z-index: 80;
  display: none;
}
.site-header .mobile-scrim.show { display: block; }

/* Prevent clipping by ancestors */
.site-header, .site-header * { overflow: visible; }


